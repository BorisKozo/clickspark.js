/*
 * Clickspark JavaScript utility v1.0.0
 * https://github.com/ymc-thzi/clickspark.js
 *
 * Thomas Zinnbauer @ YMC
 *
 * 2015 YMC AG | Sonnenstrasse 4 | CH-8280 Kreuzlingen | Switzerland
 * http://www.ymc.ch
 *
 */
csDefaultSpecs={particleImagePath:"",particleCount:35,particleSpeed:12,particleSize:12},$.fn.clickSpark=function(e){void 0==e&&(e={particleImagePath:csDefaultSpecs.particleImagePath,particleCount:csDefaultSpecs.particleCount,particleSpeed:csDefaultSpecs.particleSpeed,particleSize:csDefaultSpecs.particleSize}),$(this).on("click",function(c){clickSpark.setParticleImagePath(e.particleImagePath),clickSpark.setParticleCount(e.particleCount),clickSpark.setParticleSpeed(e.particleSpeed),clickSpark.setParticleSize(e.particleSize),clickSpark.stdFuncOCl(c)})};var clickSpark=function(){function e(){a()}function c(e){void 0!=e&&(m=e)}function t(e){void 0!=e&&(f=e)}function i(e){void 0!=e&&(v=e)}function n(e){void 0!=e&&(w=e)}function a(){$(document).ready(function(){$("body").prepend('<div class="cs-canvas-container"><canvas id="cs-particle-canvas"></canvas></div>'),$(".cs-particle-image").hide(),$(".cs-canvas-container").hide(),$("#cs-particle-canvas").hide(),$(".cs-canvas-container").css({position:"fixed",zIndex:99999,width:500,height:500})})}function s(){var e={};return p&&(e.x=p.width/2,e.y=p.height/2),e.xSpeed=A(-1*v,v),e.ySpeed=A(-1*v,v),e.size=w,e}function o(){p=document.getElementById("cs-particle-canvas"),""==m?(defaultImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAc5pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTNTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KaBqfRAAAATZJREFUOBGtlM2NwjAQhd+MAndaSAu5cuBAC9RAAyuxVICQtgFqoAUOHLi6BbfAnY3ineeNTXYvKA6WRv59X8bxzAj+teUhLCqgeSg2CGhsuzZbmN3NPARu3uHcAu62F67lJnlkg+VXaAKwC20GEEJLjeJoUsGb+Hj7EJc2M2x1COtWsOuAddp81StwqQKO171ceDbC6FHX4mRzXmtsc1phSw+F/yjMcLKrbcZS0nm78lm+sTUomv4fpb3RPfXkaHy13xcbDRkIanK0f/7BeuHQwsgeJIdBISXKGD41YcM4mgQk7E8UT6DdCfNvANIhr8y1Cd48pcZRJi2pz9WikSdHmf1M2iJEL6KeHGUZYfbbeul1XawexuEDgEk6D/i0Scz+/oMvO56nLpWhXIKofFs9S25MqbQ/ard2fSmw8JoAAAAASUVORK5CYII=",particleImg=new Image,particleImg.src=defaultImg):(particleImg=new Image,particleImg.src=m),p&&"function"==typeof p.getContext&&(g=p.getContext("2d"),bodyWidth=document.body.clientWidth,g.canvas.width=$(".cs-canvas-container").width()>bodyWidth?bodyWidth:2*$(".cs-canvas-container").width(),g.canvas.height=$(".cs-canvas-container").height()),r()}function r(){for(var e=0;f>e;e++)I.push(s())}function d(){g.clearRect(0,0,window.innerWidth,window.innerHeight);for(var e=0;f>e;e++){var c=I[e];c.size=c.size*(.96+A(1,10)/100),g.drawImage(particleImg,c.x,c.y,c.size,c.size),c.x=c.x+c.xSpeed,c.y=c.y+c.ySpeed}}function l(){h&&(requestAnimationFrame(l),d())}function A(e,c){return Math.random()*(c-e)+e}function u(e){var c,t;"click"==e.type?(c=e.pageX,t=e.pageY):(c=e.offset().left+e.width()/2,t=e.offset().top+e.height()/2),I=[],particle=null,o(),$(".cs-canvas-container").width()>bodyWidth?$(".cs-canvas-container").css("left",c-$(".cs-canvas-container").width()/2):$(".cs-canvas-container").css("left",c-$(".cs-canvas-container").width()),$(".cs-canvas-container").css("top",t-$(".cs-canvas-container").height()/2),$(".cs-canvas-container").show(),$("#cs-particle-canvas").show(),window.setTimeout(function(){$("#cs-particle-canvas").fadeOut()},400),h=!0,l(),window.setTimeout(function(){$("#cs-particle-canvas").hide(),$(".cs-canvas-container").hide(),h=!1},800)}var p,g,m=csDefaultSpecs.particleImagePath,f=csDefaultSpecs.particleCount,v=csDefaultSpecs.particleSpeed,w=csDefaultSpecs.particleSize,h=!1,I=[];return e(),window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3)}}(),{setParticleImagePath:function(e){c(e)},setParticleCount:function(e){t(e)},setParticleSpeed:function(e){i(e)},setParticleSize:function(e){n(e)},init:function(){u(element)},fireParticles:function(e){u(e)},stdFuncOCl:function(e){u(e)}}}();